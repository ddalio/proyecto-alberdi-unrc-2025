{% extends 'base.html' %} {% block title %} Pagina de inicio {% endblock %} {%
block styles %}
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='css/inicio.css') }}"
/>
{% endblock %} {%block content %}
<div class="calendar-page">
  <div class="calendar-container">
    <!-- Row superior -->
    <div class="top-buttons">
      <div class="d-flex flex-column flex-md-row justify-content-md-end gap-2">
        <button
          id="btnDescargarImagen"
          class="btn btn-custom d-flex align-items-center justify-content-center"
        >
          <i class="bi bi-image me-2"></i> <span>Descargar como imagen</span>
        </button>

        <button
          type="button"
          class="btn btn-outline-primary d-flex align-items-center justify-content-center"
          id="btnCambiarVista"
          onclick="toggleVista()"
        >
          <i id="iconoVista" class="bi bi-calendar-week me-2"></i>
          <span id="textoVista">Semana</span>
        </button>
      </div>
    </div>

    <div
      id="calendar"
      data-url-eventos="{{ url_for('eventos_bp.eventos_json') }}"
    ></div>

    <!-- Row inferior -->
    <div class="bottom-buttons">
      <div class="d-flex flex-column flex-md-row justify-content-center gap-3">
        {% if current_user.es_administrador() %}
        <a
          href="{{url_for('eventos_bp.agregar_evento')}}"
          class="btn btn-custom px-5 py-2"
        >
          Ingresar
        </a>
        {% endif %}

        <a
          href="{{ url_for('eventos_bp.eventos') }}"
          class="btn btn-custom px-5 py-2"
        >
          Consultar
        </a>
      </div>
    </div>
  </div>
</div>

<!-- Modal para detalle del evento -->
<div
  class="modal fade"
  id="eventoModal"
  tabindex="-1"
  aria-labelledby="eventoModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="eventoModalLabel">Detalle del Evento</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Cerrar"
        ></button>
      </div>
      <div class="modal-body">
        <p><strong>Descripci√≥n:</strong> <span id="modalDescripcion"></span></p>
        <p><strong>Fecha inicio:</strong> <span id="modalInicio"></span></p>
        <p><strong>Fecha fin:</strong> <span id="modalFin"></span></p>
        <p>
          <strong>Observaciones:</strong> <span id="modalObservaciones"></span>
        </p>
        <p><strong>Monto total:</strong> $<span id="modalMonto"></span></p>
        <p><strong>Adeuda:</strong> <span id="modalAdeuda"></span></p>
        <p><strong>DNI:</strong> <span id="modalDni"></span></p>
        <p>
          <strong>Responsable apertura:</strong>
          <span id="modalResponsableApertura"></span>
        </p>
        <p>
          <strong>Responsable cierre:</strong>
          <span id="modalResponsableCierre"></span>
        </p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Cerrar
        </button>
      </div>
    </div>
  </div>
</div>

{% endblock %} {% block scripts %}
<script src="{{ url_for('static', filename='js/inicio.js') }}"></script>
{% endblock %}
